<!--

    Copyright (C) 2013 Salzburg Research.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<html>
<head>
    <title>LMF - The first Steps</title>
    <!--###BEGIN_HEAD###-->
    <script type="text/javascript" src="../public/js/lib/jquery-1.6.4.js"></script>
    <script type="text/javascript">

        var _STARTPAGE_DEFAULT = "core/admin/about.html";

        function changeStartpage() {
            $.ajax({
            type:"POST",
            contentType: "application/json",
            url: _SERVER_URL + "config/data/kiwi.pages.startup",
            data: '["'+_STARTPAGE_DEFAULT+'"]',
            success: function() {
                alert("Set startup page to "+_SERVER_URL+_STARTPAGE_DEFAULT);
            },
            error: function() {
                alert("Some error occurs. Try to change value manually! Sorry!");
            }
        });
        }
    </script>
    <!--###END_HEAD###-->
</head>
<body>
<!--###BEGIN_CONTENT###-->
<h1>Welcome to the Linked Media Framework</h1>
        <p>
            Congratulations! You've made it to install the LMF. Now, whats's next? Have a look at the tips below.<br><br>
            Have Fun!<br>
            <i>Your LMF Team</i><br><br>
        </p>
        <h2>First steps:</h2>

        <h3>1. Interacting with Resources</h3>
        <p>
            To interact with resources, you need a REST client that is capable of issuing POST, PUT, GET and DELETE commands to remote resources.
            A very basic command line tool for this is <a href="http://curl.haxx.se/download.html">cURL</a>.
        </p>
        <h4>Create a Resource</h4>

        <p><strong>Command:</strong></p>
        <pre>
curl -i -X POST http://localhost:8080/LMF/resource/1234
        </pre>
        <p>
            As a result, the resource with the URI http://localhost:8080/LMF/resource/1234 will be created, indicated by an HTTP status code of 201.
        </p>

        <h4>Upload RDF Metadata for a Resource</h4>
        <p>
        The server decides based on the "Content-Type" header how to process data sent with the request. To upload
            metadata, the Content-Type should be of the form "type/subtype; <strong>rel=meta</strong>". Examples:
        </p>
        <ul>
            <li>application/rdf+xml; rel=meta</li>
            <li>text/rdf+n3; rel=meta</li>
            <li>...</li>
        </ul>
        <p><em>Command:</em></p>
        <pre>
curl -X PUT -i -H "Content-Type: text/rdf+n3; rel=meta"  \
     -d '&lt;http://localhost:8080/LMF/resource/1234&gt; &lt;http://www.w3.org/2000/01/rdf-schema#label&gt; "Test Resource".' \
     http://localhost:8080/LMF/resource/1234
        </pre>

        <p>Result will be a redirect to the real URI of the resource for this content type (according to the Linked Data principles). Follow this redirect by using the command:</p>
        <pre>
curl -X PUT -i -H "Content-Type: text/rdf+n3; rel=meta" \
     -d '&lt;http://localhost:8080/LMF/resource/1234&gt; &lt;http://www.w3.org/2000/01/rdf-schema#label&gt; "Test Resource".' \
     http://localhost:8080/LMF/meta/text/rdf+n3/1234
        </pre>

        <p class="box">Note that many HTTP clients will rewrite the method from PUT to GET if you turn on automatic following of
            redirects (e.g. cURL and Firefox). It is therefore recommended to follow all redirects manually.</p>

        <h4>Upload Media Content for a Resource</h4>
        <p>
         The server decides based on the "Content-Type" header how to process data sent with the request. To upload
             content, the Content-Type should be of the form "type/subtype; <strong>rel=content</strong>". Examples:
         </p>
         <ul>
             <li>text/html; rel=content </li>
             <li>text/plain; rel=content </li>
             <li>image/jpeg; rel=content  </li>
             <li>...</li>
         </ul>
        <p><strong>Command:</strong></p>
        <pre>
curl -X PUT -i -H "Content-Type: text/plain; rel=content" \
     -d 'This is textual content of the resource' \
     http://localhost:8080/LMF/resource/1234
        </pre>
        <p>Again, we have to manually perform the redirect that is sent by the server:</p>
        <pre>
curl -X PUT -i -H "Content-Type: text/plain; rel=content" \
     -d 'This is textual content of the resource' \
     http://localhost:8080/LMF/content/text/plain/1234
        </pre>

        <h4>Retrieving Content and Metadata</h4>
        <p>
            Retrieving content and metadata works analogously to updating and follows the Linked Data principles. Instead
            of "PUT" you use the method "GET", and instead of the header "Content-Type" you use the header "Accept":
        </p>
        <pre>
curl -X GET  -L -i -H "Accept: application/rdf+xml; rel=meta" \
     http://localhost:8080/LMF/resource/1234
        </pre>
        <p class="box">
            Note that in case of retrieving content or metadata it is safe to turn on automatic redirects in HTTP
            clients (-L option in cURL), because the method is GET anyways.
        </p>

        <h4>Deleting a Resource</h4>
        <p>A resource is deleted using the DELETE method. Command:</p>
        <pre>
curl -i -X DELETE http://localhost:8080/LMF/resource/1234
        </pre>


        <h3>2. Importing RDF Datasets and Ontologies</h3>

        <p>
            Sometimes it is desirable to import larger datasets consisting of more than one resource. Individually
            adding resources would be cumbersome. Therefore, the LMF provides an import functionality that can be
            used for uploading:
        </p>

        <p><strong>Command: </strong></p>
        <pre>
curl -i -H "Content-Type: text/rdf+n3" -X POST -d @test.n3 http://localhost:8080/LMF/import/upload
        </pre>
        <p>
            Would import the file test.n3 into the system. The command
        </p>
        <pre>
curl -X GET http://localhost:8080/LMF/import/types
        </pre>
        <p>
            returns a list of types supported by the LMF importer.
        </p>

        <h3>3. Experimenting with Semantic Search and SPARQL</h3>

        <p>
            The admin interface offers a "Semantic Search" tab where you can configure and explore the semantic
            search and SPARQL support offered by the Linked Media Framework. Search over resources will always be
            domain-specific and will need to take into account the schema of the data. Therefore, the semantic search
            component provides only very simple and straightforward search functionality by default, using the
            properties rdfs:label and rdfs:comment.
        </p>
        <p>
            To adapt the search component to your specific domain, the LMF Admin Interface offers under the
            "Semantic Search" tab the possibility to define so-called "shortcut programs". A shortcut program is a set
            of rules that map index fields to RDF properties or paths of RDF properties. For example, the following
            program defines four fields (title, summary, tag, type):
        </p>
        <pre>
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns##&gt;;
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;;
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt;;
@prefix hgtags: &lt;http://www.holygoat.co.uk/owl/redwood/0.1/tags/&gt;;

title = rdfs:label :: xsd:string;
summary = rdfs:comment :: xsd:string;
tag = hgtags:taggedWithTag / hgtags:name :: xsd:string;
type = rdf:type :: xsd:anyURI;
        </pre>
        <p>
            In the most simple case (e.g. title), the rule maps an index field to exactly one RDF property. In more
            complex cases, the rule allows to follow a path of RDF properties; e.g. in the "tag" field above, the rule
            would start at the current resources and follow the hgtags:taggedWithTag property, and from there it will
            follow the hgtags:name property and store it in the index.
        </p>
<!--###END_CONTENT###-->
</body>
</html>
